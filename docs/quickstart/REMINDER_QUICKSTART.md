# 日程提醒功能 - 快速开始

## 快速配置（3 步完成）

### 步骤 1：获取 QQ 邮箱授权码

1. 访问 [QQ 邮箱](https://mail.qq.com/) 并登录
2. 点击 **设置** → **账户** → 找到 **POP3/IMAP/SMTP 服务**
3. 开启服务并点击 **生成授权码**，按提示发送短信
4. **复制并保存授权码**（16位字符，注意不是登录密码！）

### 步骤 2：配置环境变量

编辑 `server/.env` 文件，添加：

```bash
EMAIL_USER=646184101@qq.com
EMAIL_PASSWORD=你刚才获取的授权码
```

### 步骤 3：重启服务器

```bash
cd server
pnpm run dev
```

看到以下信息表示成功：

```
✅ 邮件服务配置成功
🚀 提醒服务已启动
```

## 测试提醒功能

### 方法 1：发送测试邮件

```bash
curl -X POST http://localhost:3001/api/reminders/test-email \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{"email": "your-email@example.com"}'
```

### 方法 2：创建即将开始的日程

1. 登录 CogniFlow
2. 创建一个日程卡片
3. 设置开始时间为 **6 分钟后**
4. 等待提醒邮件

## 工作原理

- ⏰ 系统每分钟检查一次
- 📧 在日程开始前 5 分钟发送邮件
- 🚫 同一日程不会重复提醒
- ✅ 自动记录发送日志

## 常见问题

### 邮件发送失败？

检查：
1. 授权码是否正确（不是登录密码）
2. QQ 邮箱 SMTP 服务是否开启
3. `server/.env` 配置是否正确

### 没有收到提醒？

确认：
1. 用户已填写邮箱
2. 用户设置中开启了邮件通知
3. 日程有开始时间且未删除
4. 日程开始时间在 5-6 分钟内

## 完整文档

详细配置和高级用法请查看：
- [完整配置指南](./REMINDER_SETUP.md)

## 支持

- 发件人邮箱：646184101@qq.com
- 提醒提前时间：5 分钟
- 检查频率：每 1 分钟
